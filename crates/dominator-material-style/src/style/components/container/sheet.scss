@import "../../utils/map_get_strict";

@mixin sheet($theme) {
  $colors: map-get-strict($theme, "colors");
  $surface: map-get-strict($colors, "surface");
  $components: map-get-strict($theme, "components");
  $sheet: map-get-strict($components, "sheet");
  $width: map-get-strict($sheet, "side_width");
  $height: map-get-strict($sheet, "bottom_height");

  .dmat-sheet {
    display: grid;
    grid-template-columns: $width 1fr $width;
    grid-template-rows: 1fr $height;
    grid-auto-flow: column;
    height: 100%;

    & > .dmat-sheet-right {
      grid-column: 3;
      grid-row: 1/3;
      z-index: 1;
      background: $surface;
      box-shadow: -3px 2px 3px 0 rgba(0, 0, 0, 0.2), -4px 1px 1px 0 rgba(0, 0, 0, 0.2), -6px 4px 0 0 rgba(0, 0, 0, 0.2);
    }

    & > .dmat-sheet-left {
      grid-column: 1;
      grid-row: 1/3;
      z-index: 1;
      background: $surface;
      box-shadow: 3px 2px 3px 0 rgba(0, 0, 0, 0.2), 4px 1px 1px 0 rgba(0, 0, 0, 0.2), 6px 4px 0 0 rgba(0, 0, 0, 0.2);
    }

    & > .dmat-sheet-bottom {
      grid-column: 1/4;
      grid-row: 2;
      z-index: 1;
      text-align: center;
      background: $surface;
      box-shadow: 3px -1px 2px 0 rgba(0, 0, 0, 0.2), 2px -3px 1px 0 rgba(0, 0, 0, 0.2), 0 -3px 6px 0 rgba(0, 0, 0, 0.2);
    }

    & > .dmat-sheet-main-view {
      grid-column: 1/4;
      grid-row: 1/3;
    }

    & > .dmat-sheet-content:not(.-expanded) {
      visibility: hidden;
    }
  }
}
